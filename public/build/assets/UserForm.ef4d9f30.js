import{a as e,r as k,j as o,F as E,u as _}from"./app.5a05c96a.js";import{E as g}from"./index.76836695.js";function v(){return e("img",{src:"/assets/img/eye-open.png",alt:"Open eye",width:"20"})}function D(){return e("img",{src:"/assets/img/eye-closed.png",alt:"Open eye",width:"20"})}function C(d){const{id:t,name:n,autoComplete:u,defaultValue:m,setData:p}=d,[i,s]=k.exports.useState(e(v,{}));return o(E,{children:[e("input",{type:"password",id:t,name:n,autoComplete:u,defaultValue:m,className:"block w-full flex-1 rounded-none rounded-l-md border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:c=>p(n,c.target.value)}),e("span",{className:"inline-flex items-center rounded-r-md border border-l-0 border-gray-300 bg-gray-50 px-3 text-sm text-gray-500",children:e("button",{type:"button",onClick:c=>{var h;const l=c.target.parentNode,f=(h=l.dataset.eye)!=null?h:"open",r=document.getElementById(l.dataset.input);f==="open"?(l.setAttribute("data-eye","closed"),r.setAttribute("type","text"),s(e(D,{}))):(l.setAttribute("data-eye","open"),r.setAttribute("type","password"),s(e(v,{})))},"data-input":n,children:i})})]})}function O(d){var x,w,N;const{user:t,roleDefault:n,roles:u,action:m,csrf:p}=d,{data:i,setData:s,post:y,put:c,delete:l,processing:f,errors:r}=_({name:(x=t==null?void 0:t.name)!=null?x:"",email:(w=t==null?void 0:t.email)!=null?w:"",password:(N=t==null?void 0:t.password)!=null?N:"",password_confirmation:"",role:n!=null?n:"none"}),h=a=>{a.preventDefault();const b="dashboard.users.";m==="update"?c(route(b+m,t)):y(route(b+"store"))},F=a=>{a.preventDefault(),confirm("\xBFDesea eliminar el usuario?")&&l(route("dashboard.users.destroy",t))};return o(E,{children:[o("form",{action:"#",method:"POST",onSubmit:h,children:[(d==null?void 0:d.action)&&e("input",{type:"hidden",name:"_method",value:"PUT"}),e("input",{type:"hidden",name:"_token",value:p}),o("div",{className:"overflow-hidden shadow sm:rounded-md",children:[e("div",{className:"bg-white px-4 py-5 sm:p-6",children:o("div",{className:"grid grid-cols-6 gap-6",children:[o("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),e("input",{type:"text",name:"name",id:"name",autoComplete:"name",defaultValue:i.name,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:a=>s("name",a.target.value)}),e(g,{error:r.name})]}),o("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),e("input",{type:"email",name:"email",id:"email",autoComplete:"email",defaultValue:i.email,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",onChange:a=>s("email",a.target.value)}),e(g,{error:r.email})]}),o("div",{className:"col-span-6",children:[e("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Rol"}),o("select",{required:!0,id:"role",name:"role",autoComplete:"role",className:"mt-1 block w-full rounded-md border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm",defaultValue:n,onChange:a=>s("role",a.target.value),children:[e("option",{value:"none",children:"Ninguno"}),u&&u.map(a=>e("option",{value:a.name,children:a.name},a.id))]})]}),o("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xF1a"}),e("div",{className:"mt-1 flex rounded-md shadow-sm",children:e(C,{id:"password",name:"password",autoComplete:"password",defaultValue:i.password,setData:s})}),e(g,{error:r.password})]}),o("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700",children:"Confirmar contrase\xF1a"}),e("div",{className:"mt-1 flex rounded-md shadow-sm",children:e(C,{id:"password_confirmation",name:"password_confirmation",autoComplete:"password_confirmation",defaultValue:i.password_confirmation,setData:s})}),e(g,{error:r.password_confirmation})]})]})}),e("div",{className:"bg-gray-50 px-4 py-3 text-right sm:px-6",children:e("button",{type:"submit",disabled:f,className:"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Save"})})]})]}),m==="update"&&o("form",{action:"#",method:"POST",onSubmit:F,className:"my-4",children:[e("input",{type:"hidden",name:"_method",value:"DELETE"}),e("input",{type:"hidden",name:"_token",value:p}),e("button",{type:"submit",className:"rounded-md",children:"Eliminar"})]})]})}export{O as default};
